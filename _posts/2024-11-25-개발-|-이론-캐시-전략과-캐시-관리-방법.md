---
layout: post
date: 2024-11-25
title: "[ê°œë°œ | ì´ë¡ ] ìºì‹œ ì „ëµê³¼ ìºì‹œ ê´€ë¦¬ ë°©ë²•"
tags: [cache, ]
categories: [ë°±ì—”ë“œ, ì´ë¡ , ]
---



### **1. ì½ê¸° ì¤‘ì‹¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ìºì‹±**



#### 1. 1. ìºì‹œ ë³„ë„ ê´€ë¦¬(Cache-Aside)


![0](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/0.png)


**ì‘ë™ ì›ë¦¬**

1. ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìºì‹œì €ì¥ì†Œë¥¼ ë¨¼ì € í™•ì¸
2. ìºì‹œì— ë°ì´í„°ê°€ ì—†ë‹¤ë©´ DBì—ì„œ ì¡°íšŒ
=> ì¼ë°˜ì ìœ¼ë¡œ ì´ë•Œ ì¡°íšŒí•œ ê²°ê³¼ë¥¼ ìºì‹±í•œë‹¤.

**ì¥ì /ë‹¨ì **


ì¥ì : êµ¬í˜„ì´ ë‹¨ìˆœí•˜ë©°, ìºì‹œì €ì¥ì†Œ ì¥ì•  ìƒí™©ì— ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.
ë‹¨ì : ìµœì´ˆ ìš”ì²­ ë˜ëŠ” í•œ ë²ˆì˜ ìºì‹œ ë¯¸ìŠ¤ëŠ” ëˆˆì— ë„ëŠ” ì§€ì—°ì´ ë°œìƒí•œë‹¤.



#### 1. 2. ìºì‹œ í†µí•´ì„œ ì½ê¸°(Read-Through)


![1](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/1.png)


**ì‘ë™ ì›ë¦¬**

1. ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìºì‹œì €ì¥ì†Œì— ì¡°íšŒë¥¼ í•œë‹¤.
2. ìºì‹œëœ ë°ì´í„°ê°€ ì—†ë‹¤ë©´ ìºì‹œì €ì¥ì†Œê°€ ì§ì ‘ DBì— ì¿¼ë¦¬ë¥¼ í•œë‹¤.

	â†’ ë³´í†µ ìºì‹œ keyê°€ ì§ˆì˜í•  SQLì´ ëœë‹¤ê³  í•œë‹¤.

3. ìºì‹œ ì €ì¥ì†ŒëŠ” DBì—ì„œ ì‘ë‹µë°›ì€ ë°ì´í„°ë¥¼ ìºì‹±í•˜ê³  Appì— ì‘ë‹µí•œë‹¤.

**ì¥ì /ë‹¨ì **


ì¥ì : App ì…ì¥ì—ì„œëŠ” ìºì‹œì €ì¥ì†Œ í•˜ê³ ë§Œ ìƒí˜¸ì‘ìš©í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œê°€ ë‹¨ìˆœí•´ì§„ë‹¤.

- ì¼ë°˜ì ì¸ êµ¬í˜„ì—ì„œëŠ” ìºì‹œì €ì¥ì†Œê°€ ë™ì‹œì— ë™ì¼í•œ ì¿¼ë¦¬ë¥¼ í•œ ë²ˆë§Œ DBìš”ì²­ í•˜ë„ë¡ ì„¤ê³„í•˜ê¸° ë•Œë¬¸ì— DBì—ê²Œ ì ì€ ë¶€í•˜ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤.
- ë””ìŠ¤ì½”ë“œ ê¸€ ì°¸ê³ : [how-discord-stores-trillions-of-messages](https://discord.com/blog/how-discord-stores-trillions-of-messages#heading-4)

ë‹¨ì : ìºì‹œì €ì¥ì†Œê³¼ APPê°„ì— ê²°í•©ì´ ë§¤ìš° ë†’ê¸° ë•Œë¬¸ì— ìºì‹œì €ì¥ì†Œì˜ ì¥ì•  ëŒ€ì‘ ì •ì±…ì´ ì¤‘ìš”í•˜ë‹¤.



#### 1. 3. ìºì‹œ ë¯¸ë¦¬ ê°±ì‹ (Refresh-Ahead)


> ğŸ’¡ Refresh-AheadëŠ” ìºì‹œ í‚¤ì˜ êµ¬í˜„ë³´ë‹¤ëŠ” ë§Œë£Œ ì‹œê°„(TTL) ê´€ë¦¬ì— ì´ˆì ì´ ë§ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤.


![2](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/2.png)


**ì‘ë™ ì›ë¦¬**

1. ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì´ ì£¼ê¸°ì ìœ¼ë¡œ ìì£¼ ì ‘ê·¼ë˜ëŠ” ìºì‹œ í•­ëª©ë“¤ì„ ë§Œë£Œ ì „ì— ë¯¸ë¦¬ ê°±ì‹ í•œë‹¤.
2. TTLê³¼ refresh-ahead factorë¥¼ ì„¤ì •í•˜ì—¬ ê°±ì‹  ì‹œì ì„ ê²°ì •í•œë‹¤.

	â†’ ì˜ˆë¥¼ ë“¤ì–´, TTLì´ 120ì´ˆì´ê³  refresh-ahead factorê°€ 0.5ë¼ë©´, 60ì´ˆê°€ ì§€ë‚œ ì‹œì ì—ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê°±ì‹ í•œë‹¤.


**êµ¬í˜„ ë°©ì‹**

- ìºì‹œ ì œê³µì(Cache Provider)ì— ë”°ë¼ êµ¬í˜„ ë°©ì‹ì´ ë‹¬ë¼ì§„ë‹¤.
- CDC ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ DB ë³€ê²½ì‚¬í•­ì„ ê°ì§€í•˜ê³  ìºì‹œë¥¼ ê°±ì‹ í•˜ëŠ” ë°©ì‹ë„ ê°€ëŠ¥í•˜ë‹¤.


### **2. ì“°ê¸° ì¤‘ì‹¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ìºì‹±**



#### **2.1. ìºì‹œ í†µí•´ì„œ ì“°ê¸°(Write-Through)**


![3](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/3.png)


**ì‘ë™ ì›ë¦¬**

1. ì“°ê¸° ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìºì‹œì €ì¥ì†Œì— ë°ì´í„°ë¥¼ ì‘ì„±í•œë‹¤.
2. ìºì‹œ ì €ì¥ì†ŒëŠ” **ë™ê¸°ì **ìœ¼ë¡œ DBì— ë°ì´í„°ë¥¼ ì‘ì„±í•œë‹¤.

**ì¥ì /ë‹¨ì **

- **ìºì‹œ í†µí•´ì„œ ì½ê¸°(Read-Through)ì™€ ê°™ì´ ì“°ê¸° ì í•©í•˜ë‹¤.**


#### **2.2. ì“°ê³  ë‚˜ì„œ ìºì‹œ(Write-behind)**


> ğŸ’¡ **ìºì‹œ í†µí•´ì„œ ì“°ê¸°(Write-Through)ì™€ ìœ ì‚¬í•˜ë©°, DB ì“°ê¸°ê°€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆë‹¤.**


![4](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/4.png)


**ì‘ë™ ì›ë¦¬**

1. ì“°ê¸° ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìºì‹œì €ì¥ì†Œì— ì €ì¥í•˜ê³  ì‘ë‹µí•œë‹¤.
2. ìºì‹œ ì €ì¥ì†ŒëŠ” **ë¹„ë™ê¸°ì **ìœ¼ë¡œ DBì— ë°ì´í„°ë¥¼ ì‘ì„±í•œë‹¤.

	â†’ ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„° ì €ì¥ì€ batch ë°©ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.


		ex) 100ê±´ì´ ìŒ“ì´ë©´ ë™ê¸°í™” í•œë‹¤.


		ex) 5ì´ˆê°„ ìŒ“ì¸ ë°ì´í„°ë¥¼ ë™ê¸°í™” í•œë‹¤.


**ì¥ì /ë‹¨ì ** 

- ì“°ê¸° ì„±ëŠ¥ì„ ìœ„í•œ ì „ëµìœ¼ë¡œ ëŒ€ëŸ‰ì˜ ì“°ê¸° ì‘ì—…ì´ ìˆëŠ” ê²½ìš° ì í•©í•˜ë‹¤.
- **ìºì‹œ í†µí•´ì„œ ì½ê¸°(Read-Through)ì™€ ê°™ì´ ì“°ê¸° ì í•©í•˜ë‹¤.**
- batch ë°©ì‹ ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— **ì“°ê¸° ì‘ì—…ì— ëŒ€í•œ ë¹„ìš©ì„ ì¤„ì´ëŠ”ë° íš¨ê³¼ì **ì´ë‹¤.
- **ê°€ì¥ í° ë‹¨ì **ì€ DBì— ì“°ê¸° ë™ì‘ì´ ìˆ˜í–‰ë˜ê¸° ì „ì— ìºì‹œì €ì¥ì†Œê°€ ì£½ê²Œë˜ë©´ **ë°ì´í„° ìœ ì‹¤ì˜ ìœ„í—˜**ì´ ì¡´ì¬í•œë‹¤.(Redisì—ì„œëŠ” ì´ëŸ¬í•œ ë‹¨ì ì„ ë³´ì™„í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ê¸°ë„ í•œë‹¤.)


#### **2.3. ìºì‹œ ë‚˜ì¤‘ì— ì“°ê¸°(Write-Around)**


![5](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/5.png)


> ğŸ“Œ ìºì‹±ì„ ê±´ë„ˆ ë›°ê³  DBì— ì“°ê¸°ë¥¼ ìˆ˜í–‰í•œë‹¤. 


**ì²˜ë¦¬ ê³¼ì •**

1. ì“°ê¸° ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ DBì— ë°ì´í„°ë¥¼ ì‘ì„±í•œë‹¤.
	- ì£¼ë¡œ ì¡°íšŒ ì‹œì ì´ ìºì‹œ ë¯¸ìŠ¤ê°€ ë°œìƒí•˜ë©´, ê·¸ ë•Œ ìºì‹±ì„ ìˆ˜í–‰í•œë‹¤.
	- ë¹„ë™ê¸°ì ìœ¼ë¡œ ìºì‹±ë„ ê°€ëŠ¥í•˜ë‹¤.

**ì¥ì /ë‹¨ì **

- êµ¬í˜„ì´ ë‹¨ìˆœí•˜ê³ , ìºì‹œ ì €ì¥ì†Œì— ëŒ€í•œ ê³ ë ¤ê°€ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— ìºì‹œì €ì¥ì†Œ ì¥ì•  ìƒí™©ì— ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.
- ì½ê¸° ì‹œì ì— ìºì‹±í•˜ê¸° ë•Œë¬¸ì— ìì£¼ ì½íˆì§€ ì•Šì„ ë°ì´í„°ë¥¼ ì“¸ ë•Œ ìœ ìš©í•˜ë©°, ìºì‹œ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

**ì¡°í•©**

- ì£¼ë¡œ ìºì‹œ ë³„ë„ ê´€ë¦¬(Cache-Aside) ê²°í•©í•´ì„œ ì‚¬ìš©í•œë‹¤.
- ë˜í•œ ìºì‹œ í†µí•´ì„œ ì½ê¸°(Read-Through)ì™€ ê²°í•©í•˜ì—¬ ë°ì´í„°ê°€ í•œ ë²ˆ ì“°ì—¬ì§€ê³  ìì£¼ ë˜ëŠ” ì „í˜€ ì½íˆì§€ ì•ŠëŠ” ìƒí™©ì—ì„œ ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤.


### 3. ìºì‹œ ê´€ë¦¬ ë°©ë²•



#### 3.1. ìºì‹œ ë¬´íš¨í™” ì „ëµ

- ì‹œê°„ ê¸°ë°˜(TTL) ë¬´íš¨í™”
- ì´ë²¤íŠ¸ ê¸°ë°˜ ë¬´íš¨í™”
- ë²„ì „ ê¸°ë°˜ ë¬´íš¨í™”
- ìµœê·¼ì— ì‚¬ìš©í•˜ì§€ ì•Šì€ ë°ì´í„°(LRU) ë¬´íš¨í™”
- ìˆ˜ë™ ë¬´íš¨í™”


### 4. í† ìŠ¤ ê¸€ë¡œ ë³´ëŠ” ìºì‹œ ë¬¸ì œ ê´€ë¦¬ ë°©ë²•


[https://toss.tech/article/cache-traffic-tip](https://toss.tech/article/cache-traffic-tip)



#### **4.1. ìºì‹œ ì‡„ë„(Cache Stampede)**


> ğŸ“Œ ìºì‹œ ë¯¸ìŠ¤ê°€ ë™ì‹œì— ë§ì´ ë°œìƒí•˜ëŠ” ìƒí™©


![6](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/6.png)


ë§¤ì¼ ìì •ì— ìºì‹œë¥¼ ê°±ì‹ í•˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì ê°±ì‹  ì‹œê°„ì— ë§ì¶° ìºì‹œê°€ ì¼ì œíˆ ë§Œë£Œë˜ë„ë¡ ì„¤ê³„í•˜ëŠ” ë°©ì‹ì´ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. 


í•˜ì§€ë§Œ ê°±ì‹  ì‹œì ì— íŠ¸ë˜í”½ì´ ì§‘ì¤‘ëœë‹¤ë©´ ì¥ì•  ë°œìƒì˜ ìœ„í—˜ì´ ë†’ì•„ì§„ë‹¤.


**í•´ê²°ì•ˆ: ì§€í„°(Jitter)**


ìºì‹œ ë§Œë£Œ ì‹œê°„ì„ ë¬´ì‘ìœ„ë¡œ ì¡°ê¸ˆ ì§€ì—°ì‹œí‚¤ë©´, ìºì‹œ ì‡„ë„ ìƒí™©ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¶€í•˜ë¥¼ ê· ë“±í•˜ê²Œ ë¶„ì‚°í•  ìˆ˜ ìˆë‹¤.


> â€˜ì§€í„°(Jitter)â€™ëŠ” ì „ìê³µí•™ì—ì„œ ë‚˜ì˜¨ ê°œë…ìœ¼ë¡œ ì „ì ì‹ í˜¸ë¥¼ ì½ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì§§ì€ ì§€ì—° ì‹œê°„ì„ ì˜ë¯¸í•œë‹¤.


ì§€í„°ë¥¼ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ìºì‹œ ë§Œë£Œ ì‹œê°„ì— 0~10ì´ˆ ì‚¬ì´ì˜ ë¬´ì‘ìœ„ ì§€ì—° ì‹œê°„ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì¼ê´„ì ìœ¼ë¡œ ìºì‹œê°€ ë§Œë£Œë˜ëŠ” ê²ƒì´ ì•„ë‹Œ 0 ~ 10ì´ˆì˜ ëœë¤í•œ ì‹œê°„ì´ ì¶”ê°€ë˜ì–´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¶€í•˜ë¥¼ ë¶„ì‚°í•  ìˆ˜ ìˆë‹¤.



#### **4.2. ìºì‹œ ê´€í†µ(Cache Penetration)**


> ğŸ“Œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì½ì—ˆëŠ”ë° ìºì‹±ì´ ë˜ì§€ ì•ŠëŠ” ìƒí™©ì„ â€œìºì‹œ ê´€í†µâ€ì´ë¼ê³  í•œë‹¤.


![7](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/7.png)


ë³´í†µ ìºì‹œì—ì„œ `null` ê°’ì´ ë°˜í™˜ë˜ë©´, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì„œ ìºì‹±ì„ ìˆ˜í–‰í•œë‹¤. ì—¬ê¸°ì„œ ì§„ì§œ DBì— ë°ì´í„°ê°€ ì—†ì–´ì„œ `null`ì´ ë°˜í™˜ë˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì. 


ì´ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì½ì—ˆëŠ”ë°ë„ ìºì‹œê°€ ìˆ˜í–‰ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— í•­ìƒ DBë¡œ íŠ¸ë˜í”½ì´ ì „ë‹¬ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.


**í•´ê²°ì•ˆ: ë„ ì˜¤ë¸Œì íŠ¸ íŒ¨í„´(Null Object Pattern)**

1. ë¸”ë£¸í•„í„°: â€œê°’ì´ ì—†ìŒâ€ì„ ìºì‹±í•˜ëŠ” ê²ƒì´ë‹¤.

	> ì´ëŸ¬í•œ ë°©ë²•ì„ [ë¸”ë£¸í•„í„°](https://en.wikipedia.org/wiki/Bloom_filter)ë¼ê³  í•œë‹¤. **ë¸”ë£¸ í•„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ í™•ë¥ ì ìœ¼ë¡œ ìºì‹œ ê´€í†µì„ ë°©ì§€í•´ìš”. í•˜ì§€ë§Œ ë¸”ë£¸ í•„í„°ì˜ ì •í•©ì„±ì´ ê¹¨ì§„ë‹¤ë©´, ë¸”ë£¸ í•„í„°ë¥¼ ë³µêµ¬í•˜ê¸° ìœ„í•´ ëª¨ë“  ìºì‹œë¥¼ ì½ì–´ì•¼ í•´ì„œ ìš´ì˜ì´ ì–´ë ¤ì›Œìš”.**

1. **ë„ ì˜¤ë¸Œì íŠ¸ íŒ¨í„´(Null Object Pattern)**

	â€œê°’ì´ ì—†ìŒâ€ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’ì„ ì§€ì •í•´ì„œ ìºì‹±í•œë‹¤. DBì— ëª…ì‹œì ìœ¼ë¡œ â€œNULLâ€ ë˜ëŠ” â€œNONEâ€ì„ ë„£ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë° ì´ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤.



#### **4.3. ìºì‹œ ì‹œìŠ¤í…œ ì¥ì• **


![8](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/8.png)


íŠ¸ë˜í”½ì´ ì ì€ ê²½ìš°ì— ìºì‹œì €ì¥ì†Œì˜ ì¥ì• ëŠ” í° ë¬¸ì œê°€ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, íŠ¸ë˜í”½ì´ í”¼í¬ë¥¼ ì¹˜ëŠ” ìƒí™©ì—ì„œëŠ” ë§¤ìš° ìœ„í—˜í•  ìˆ˜ ìˆë‹¤. ëª¨ë“  íŠ¸ë˜í”½ì´ DBì— ì§ì ‘ì ìœ¼ë¡œ ê°€ê²Œë˜ì–´ DBì˜ ì¥ì•  ìƒí™©ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.


**í•´ê²°ì•ˆ: ëŒ€ì²´ ì‘ë™(Failover)**


ìºì‹œ ì‹œìŠ¤í…œì˜ ê²°í•¨ì˜ ê²½ìš° ê·¸ëƒ¥ ìºì‹œ ë³µêµ¬ê¹Œì§€ ì„œë¹„ìŠ¤ë¥¼ ì ì‹œ ì¤‘ë‹¨í•˜ëŠ”ê²Œ ì¢‹ì€ ë°©ë²•ì¼ ìˆ˜ ìˆë‹¤.


ì¤‘ë‹¨ì´ ì–´ë µë‹¤ë©´ í•µì‹¬ ê¸°ëŠ¥ì„ ë¯¸ë¦¬ ì •ì˜í•˜ê³  í¸ì˜ë¥¼ ìœ„í•œ ë¶€ê°€ ê¸°ëŠ¥ì„ ì ì‹œ ì¤‘ë‹¨í•˜ê³  í•µì‹¬ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•˜ê²Œ í•´ DBì— íŠ¸ë˜í”½ì„ ë‚®ì¶”ëŠ” ë°©í–¥ì„ ëª¨ìƒ‰í•´ì•¼í•œë‹¤.


ì£¼ì˜: ìºì‹œ ê¸°ëŠ¥ì„ ë§Œë“¤ë‹¤ ë³´ë©´, ìºì‹œì €ì¥ì†Œê°€ ì¥ì• ì‹œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ Fallbackí•˜ëŠ” ì½”ë“œë¡œ ë‹¨ìˆœí•˜ê²Œ ì‘ì„±í•˜ê¸° ì‰½ë‹¤. 



#### **4.4. í•«(Hotkey) ë§Œë£Œ**


> ğŸ“Œ ë§ì€ ìš”ì²­ì´ ì§‘ì¤‘ë˜ëŠ” í‚¤ë¥¼ 'í•«í‚¤'ë¼ê³  í•œë‹¤.  
> - â€œìœ ëª… ì¸ì‚¬ í‚¤â€ë¼ê³  í•˜ê¸°ë„ í•œë‹¤.

	- â€œìœ ëª… ì¸ì‚¬ í‚¤â€ë¼ê³  í•˜ê¸°ë„ í•œë‹¤.

![9](/assets/img/2024-11-25-ê°œë°œ-|-ì´ë¡ -ìºì‹œ-ì „ëµê³¼-ìºì‹œ-ê´€ë¦¬-ë°©ë²•.md/9.png)


í•«í‚¤ê°€ ë§Œë£Œë˜ë©´, ìºì‹œê°€ ê°±ì‹ ë˜ê¸° ì „ì— ìˆœê°„ì ìœ¼ë¡œ ë§ì€ ìš”ì²­ì´ DBë¡œ ìš”ì²­ë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ë§‰ê¸° ìœ„í•´ â€˜í•«í‚¤â€™ëŠ” ìºì‹œì˜ ë§Œë£Œ ê¸°í•œì„ ì—†ì—ê±°ë‚˜ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ìºì‹±ë˜ê²Œ í•´ì•¼í•œë‹¤.


í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ë²•ì€ í•«í‚¤ê°€ ë” ì´ìƒ í•«í‚¤ê°€ ë˜ì§€ ì•Šì•˜ì„ë•Œì™€ í•«í‚¤ë§Œ ë³„ë„ë¡œ ê´€ë¦¬í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ê´€ë¦¬ê°€ ì‰½ì§€ì•Šë‹¤. 


**í•´ê²°ì•ˆ: ë¶„ì‚° ë½(Distributed Lock)**


ë¶„ì‚°ë½ì„ ì‚¬ìš©í•´ì„œ ë™ì‹œì— ë“¤ì–´ì˜¤ëŠ” ìºì‹± ìš”ì²­ì„ í•˜ë‚˜ë§Œ ì²˜ë¦¬ ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.


> ìºì‹œë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ê°„ì˜ **ê³µìœ  ìì›**ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìºì‹œ ë¯¸ìŠ¤ê°€ ë°œìƒí–ˆì„ ë•Œ ë½ì„ ì„¤ì •í•˜ê³  ìºì‹±í•œ í›„ì— ë½ì„ í•´ì œí•¨ìœ¼ë¡œì¨, ë‹¨ **í•œ ë²ˆì˜ ì“°ê¸° ì‘ì—…ë§Œ í—ˆìš©**í•  ìˆ˜ ìˆê³ ìš”.


ë¹„ìŠ·í•œ ë°©ë²•ìœ¼ë¡œ ì“°ê¸°ë¥¼ ìµœì í™”í•œ ê¸€

- ë””ìŠ¤ì½”ë“œ ì°¸ê³ : [how-discord-stores-trillions-of-messages](https://discord.com/blog/how-discord-stores-trillions-of-messages#heading-4)

---



### ë ˆí¼ëŸ°ìŠ¤

- [https://soobing.github.io/cs/6-caching-strategies/](https://soobing.github.io/cs/6-caching-strategies/)
- [https://toss.tech/article/cache-traffic-tip](https://toss.tech/article/cache-traffic-tip)
